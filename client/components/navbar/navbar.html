<div layout="column" layout-fill ng-controller="NavbarCtrl">
  <md-toolbar md-scroll-shrink>
    <div class="md-toolbar-tools" layout="row" layout-align="center center" style="z-index: 100">
      <ng-md-icon icon="menu" style="fill: white" ng-click="toggleRight()" ng-show="isLoggedIn()"></ng-md-icon>
      <md-button ui-sref="newsfeed">
        erp 2016
      </md-button>
      <!-- fill up the space between left and right area -->
      <span flex></span>      
      <md-button ng-show="isLoggedIn()" ui-sref='profile({ userId: getCurrentUser()._id })'>
        Hello {{ getCurrentUser().name }}
      </md-button>
      <md-button ng-hide="isLoggedIn()" ui-sref='signup'>
        Sign up
      </md-button>
      <md-button ng-hide="isLoggedIn()" ui-sref='login'>
        Login
      </md-button>
      <md-button ng-show="isLoggedIn()" class="md-icon-button launch" ui-sref='profile({ userId: getCurrentUser()._id })'>
        <img ng-src="/api/users/{{getCurrentUser()._id}}/profilePic" class="md-avatar" style="width:100%; height: 100%;"/>
      </md-button>
      <!-- <md-button id="notification_li">
        Notifications
        <div id="notificationContainer">
          <div id="notificationTitle">Notifications</div>
          <div id="notificationsBody" class="notifications">
            <div infinite-scroll="load()">
              <div ng-repeat="notification in notifications | filter:{active: true}:strict">
                {{notification._id}}
              </div>
              <div ng-repeat="notification in notifications | filter:{active: false}:strict">
                {{notification._id}}
              </div>
            </div>
          </div>
          <div id="notificationFooter"><a href="#">See All</a></div>
        </div>
      </md-button> -->
      <!-- <md-button ng-show="isLoggedIn()" class="md-icon-button launch" ui-sref='settings'>
        <ng-md-icon icon="settings" style="fill: white" size="40"></ng-md-icon>
      </md-button> -->
      <md-button ng-show="isLoggedIn()" ng-click="logout()">
        Logout
      </md-button>
    </div>
  </md-toolbar>

  <md-sidenav class="md-sidenav-left md-whiteframe-z2" md-component-id="left">
    <md-toolbar class="md-theme-light">
      <h1 class="md-toolbar-tools">Quick Links</h1>
    </md-toolbar>
    <md-content layout-padding flex="10">
    <md-list>
      <md-subheader class="md-no-sticky">Departments</md-subheader>
      <md-list-item ng-repeat="department in user.department">
        <a ui-sref="department({ deptId: department._id })"> {{ department.name }} </a>
      </md-list-item>
      <md-subheader class="md-no-sticky">Sub Departments</md-subheader>
      <md-list-item ng-repeat="subDepartment in user.subDepartment">
        <a ui-sref="subDepartment({ subDeptId: subDepartment._id })"> {{ subDepartment.name }} </a>
      </md-list-item>
      <md-subheader class="md-no-sticky">Groups</md-subheader>
      <md-list-item ng-repeat="group in user.groups">
        <a ui-sref="group({ groupId: group._id })"> {{ group.name }} </a>
      </md-list-item>
    </md-list>
    </md-content>
  </md-sidenav>
</div>
